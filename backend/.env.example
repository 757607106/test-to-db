# Database settings
MYSQL_SERVER=localhost
MYSQL_USER=root
MYSQL_PASSWORD=mysql
MYSQL_DB=chatdb
MYSQL_PORT=3306

# ==========================================
# LangSmith 监控配置
# ==========================================
# LangSmith 提供 LLM 应用的可观测性，包括：
# - 追踪所有 LLM 调用（输入、输出、延迟、Token 使用）
# - 追踪 LangGraph 工作流执行
# - 错误监控和调试
# - 性能分析和优化建议
#
# 获取 API Key: https://smith.langchain.com/
# ==========================================
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your_langsmith_api_key
LANGCHAIN_PROJECT=chatbi-production

# 可选：启用详细追踪（会增加数据量）
LANGCHAIN_CALLBACKS_BACKGROUND=true

# Neo4j settings
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password

# LLM settings
LLM_PROVIDER=deepseek
OPENAI_API_KEY=your_openai_api_key
OPENAI_API_BASE=https://api.deepseek.com/v1
LLM_MODEL=deepseek-chat

# Aliyun DashScope
DASHSCOPE_API_KEY=your_dashscope_api_key
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
DASHSCOPE_EMBEDDING_MODEL=text-embedding-v4

# Vector Service
VECTOR_SERVICE_TYPE=aliyun

# ==========================================
# Skill 功能配置 (Phase 3 优化)
# ==========================================
# Skill 功能用于大型数据库（100+ 表）的领域隔离
# 对于中小型数据库（< 50 表），建议保持关闭以简化流程
# 
# 设置为 true 启用 Skill 路由功能
# 设置为 false（默认）跳过 Skill 路由，直接使用全量 Schema
# ==========================================
SKILL_MODE_ENABLED=false

# ==========================================
# 简化流程配置 (Phase 4 优化)
# ==========================================
# 启用后简化查询处理流程，减少节点跳转：
# - 跳过澄清节点（对于明确的查询）
# - 合并部分状态更新
# - 减少 Supervisor 路由判断
# 
# 适用场景：
# - 查询意图明确的场景
# - 追求响应速度的场景
# - 不需要交互式澄清的场景
# ==========================================
SIMPLIFIED_FLOW_ENABLED=true
SKIP_CLARIFICATION_FOR_CLEAR_QUERIES=true

# ==========================================
# 缓存机制配置 (Phase 6 优化)
# ==========================================
# 缓存模式：
# - simple: 只使用精确缓存（快速，推荐）
# - full: 使用精确缓存 + 语义缓存（功能完整，但较慢）
# 
# 简化模式优势：
# - 跳过 Milvus 向量检索，减少 200-500ms 延迟
# - 减少对向量数据库的依赖
# - 适合大多数场景
# ==========================================
CACHE_MODE=simple
THREAD_HISTORY_CACHE_ENABLED=true
EXACT_CACHE_TTL=3600
