@import './theme.css';

/* ==========================================================================
   iOS / macOS Glassmorphism Theme Overrides for Ant Design
   ========================================================================== */

/* --- 1. Global Layout & Typography --- */
body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Segoe UI", Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  color: var(--color-text-main);
  background-color: var(--color-bg-page); /* Fallback */
}

/* --- 2. Card (Glass Containers) --- */
.ant-card {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border-solid) !important;
  border-radius: var(--border-radius-lg) !important;
  box-shadow: var(--glass-shadow) !important;
  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.3s ease !important;
  overflow: hidden;
}

.ant-card-bordered {
  border: 1px solid var(--glass-border-solid) !important;
}

.ant-card:hover {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08) !important;
  border-color: var(--glass-border) !important;
}

.ant-card-head {
  border-bottom: 1px solid var(--glass-border-solid) !important;
  padding: 0 24px !important;
  min-height: 56px !important;
  font-size: 17px !important;
  font-weight: 600 !important;
  color: var(--color-text-main) !important;
}

.ant-card-body {
  padding: 24px !important;
}

/* --- 3. Buttons (iOS Style) --- */
.ant-btn {
  border-radius: 8px !important;
  box-shadow: none !important;
  font-weight: 500 !important;
  height: 36px !important;
  padding: 4px 16px !important;
  transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1) !important;
}

.ant-btn-primary {
  background: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.25) !important;
  color: #fff !important; /* Ensure text is white */
}

.ant-btn-primary:disabled {
  background: rgba(0, 0, 0, 0.04) !important;
  border-color: transparent !important;
  color: rgba(0, 0, 0, 0.25) !important;
  box-shadow: none !important;
}

[data-theme="dark"] .ant-btn-primary:disabled {
  background: rgba(255, 255, 255, 0.08) !important;
  color: rgba(255, 255, 255, 0.3) !important;
}

.ant-btn-primary:not(:disabled):hover {
  background: var(--color-primary-hover) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.35) !important;
}

.ant-btn-default {
  background: rgba(255, 255, 255, 0.5) !important;
  border: 1px solid var(--glass-border-solid) !important;
  backdrop-filter: blur(4px);
  color: var(--color-text-main) !important;
}

.ant-btn-default:disabled {
  background: rgba(0, 0, 0, 0.04) !important;
  border-color: transparent !important;
  color: rgba(0, 0, 0, 0.25) !important;
  backdrop-filter: none;
  box-shadow: none !important;
}

[data-theme="dark"] .ant-btn-default:disabled {
  background: rgba(255, 255, 255, 0.08) !important;
  color: rgba(255, 255, 255, 0.3) !important;
}

.ant-btn-default:not(:disabled):hover {
  background: rgba(255, 255, 255, 0.8) !important;
  border-color: var(--color-primary) !important;
  color: var(--color-primary) !important;
}

/* --- 4. Inputs & Selects (iOS Field Style) --- */
.ant-input,
.ant-input-number,
.ant-select-selector {
  background-color: rgba(255, 255, 255, 0.5) !important; /* Lighter background */
  border: 1px solid transparent !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
  backdrop-filter: blur(8px) !important; /* Add blur to inputs */
}

[data-theme="dark"] .ant-input,
[data-theme="dark"] .ant-input-number,
[data-theme="dark"] .ant-select-selector {
  background-color: rgba(0, 0, 0, 0.2) !important;
}

.ant-input:hover,
.ant-select-selector:hover {
  background-color: rgba(255, 255, 255, 0.7) !important;
}

[data-theme="dark"] .ant-input:hover,
[data-theme="dark"] .ant-select-selector:hover {
  background-color: rgba(0, 0, 0, 0.3) !important;
}

.ant-input:focus,
.ant-input-focused,
.ant-select-focused .ant-select-selector {
  background-color: var(--color-bg-card) !important;
  border-color: var(--color-primary) !important;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15) !important; /* Indigo ring */
}

/* --- 5. Tables (Glass Tables) --- */
.ant-table {
  background: transparent !important;
}

.ant-table-container {
  border-radius: var(--border-radius-lg) !important;
  overflow: hidden !important;
  border: 1px solid var(--glass-border-solid);
}

.ant-table-thead > tr > th {
  background: rgba(245, 245, 247, 0.5) !important; /* Semi-transparent header */
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--glass-border-solid) !important;
  color: var(--color-text-secondary) !important;
  font-weight: 600 !important;
}

[data-theme="dark"] .ant-table-thead > tr > th {
  background: rgba(40, 40, 40, 0.5) !important;
}

.ant-table-tbody > tr > td {
  background: transparent !important;
  border-bottom: 1px solid var(--glass-border-solid) !important;
  transition: background 0.2s ease;
}

.ant-table-tbody > tr:hover > td {
  background: rgba(0, 122, 255, 0.05) !important; /* Subtle blue tint on hover */
}

/* --- 6. Modals (Glass Overlay) --- */
.ant-modal-mask {
  background-color: rgba(0, 0, 0, 0.2) !important;
  backdrop-filter: blur(4px);
}

.ant-modal-content {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(24px) !important;
  border: 1px solid var(--glass-border-solid) !important;
  border-radius: 20px !important; /* Larger iOS modal radius */
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
  padding: 0 !important;
  overflow: hidden;
}

.ant-modal-header {
  background: transparent !important;
  border-bottom: 1px solid var(--glass-border-solid) !important;
  padding: 20px 24px !important;
}

.ant-modal-title {
  font-size: 18px !important;
  font-weight: 600 !important;
}

.ant-modal-body {
  padding: 24px !important;
}

.ant-modal-footer {
  border-top: 1px solid var(--glass-border-solid) !important;
  padding: 16px 24px !important;
}

/* --- 7. Menu / Sidebar --- */
.ant-menu {
  background: transparent !important;
  border-right: none !important;
}

.ant-menu-item {
  border-radius: 8px !important;
  margin: 4px 8px !important;
  width: calc(100% - 16px) !important;
  transition: all 0.2s ease !important;
}

.ant-menu-item-selected {
  background-color: var(--color-primary) !important;
  color: #fff !important;
  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.25);
}

.ant-menu-item:hover:not(.ant-menu-item-selected) {
  background-color: rgba(0, 0, 0, 0.04) !important;
}

[data-theme="dark"] .ant-menu-item:hover:not(.ant-menu-item-selected) {
  background-color: rgba(255, 255, 255, 0.08) !important;
}

/* --- 8. Tabs (Segmented Control Style) --- */
.ant-tabs-nav::before {
  border-bottom: 1px solid var(--glass-border-solid) !important;
}

.ant-tabs-tab {
  padding: 12px 16px !important;
  margin: 0 8px 0 0 !important;
  font-size: 14px !important;
  border-radius: 8px;
  transition: all 0.2s ease !important;
}

.ant-tabs-tab:hover {
  background: rgba(0, 0, 0, 0.03);
  color: var(--color-primary);
}

.ant-tabs-tab-active .ant-tabs-tab-btn {
  color: var(--color-primary) !important;
  font-weight: 600 !important;
}

/* Remove bottom bar for a more segmented look, or keep it subtle */
.ant-tabs-ink-bar {
  background: var(--color-primary) !important;
  height: 3px !important;
  border-radius: 3px 3px 0 0;
  display: none !important; /* Hide ink bar for segmented look */
}

.ant-tabs-tab-active {
  background: rgba(255, 255, 255, 0.5) !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

[data-theme="dark"] .ant-tabs-tab-active {
  background: rgba(255, 255, 255, 0.1) !important;
}

/* --- 9. Utility Classes for Custom Components --- */
.glass-surface {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border-solid);
  border-radius: var(--border-radius-lg);
}

.ios-heading {
  font-weight: 700;
  letter-spacing: -0.5px;
}

/* --- 10. Tags --- */
.ant-tag {
  border: none !important;
  border-radius: 6px !important;
  padding: 2px 8px !important;
  font-weight: 500 !important;
  backdrop-filter: blur(4px);
}
